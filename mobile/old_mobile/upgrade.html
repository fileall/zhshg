<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
    	<meta name="viewport" content="initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />		
		<title></title>
		<script src="js/fontSize.js"></script>
		<link rel="stylesheet" href="css/index.css" />
		<script src="js/jquery-1.11.2.min.js"></script>
		<script src="js/custom.js"></script>
	</head>
	
	<body class="body-bgColor">
		<!--header-->
		<div class="header-wrap">
			<div class="header-inner">
				<div class="header-title">会员升级</div>
				<div class="header-left return-prev"><i class="fa fa-angle-left"></i></div>
				<div class="header-right"></div>
			</div>	
		</div>
		<div class="header-space"></div>
		<!--header-->
		
		<!--content-->
		<div class="content">
			<div class="container">
				<div id="slide" class="slide" class="index-slide" alt="star">
					<div class="img"><img src="images/img5.png"/></div>
					<div class="img"><img src="images/img6.png"/></div>
					<div class="img"><img src="images/img7.png"/></div>
					<div class="slide-bt"></div>
				</div>	
			</div>
			
			<div class="tab-title">
				<div class="tab-title-name">类型</div>
				<div class="tab-title-name">福利</div>
				<div class="tab-title-name">方式</div>
				<div class="clear-float"></div>
			</div>
			
			<div class="">
				<div class="container-tier">
					<ul class="container-ul">
						<li class="container-li">
							<div class="tab-title-name">升级赠送</div>
							<div class="tab-title-name">10000银币</div>
							<div class="tab-title-name">一次</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">推荐注册</div>
							<div class="tab-title-name">1000银币</div>
							<div class="tab-title-name">每人</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">购买元宝</div>
							<div class="tab-title-name">购买金额*100%银币</div>
							<div class="tab-title-name">每次</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">推荐人升级VIP</div>
							<div class="tab-title-name">奖励60元</div>
							<div class="tab-title-name">每人</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">推荐人升级代理</div>
							<div class="tab-title-name">奖励300元</div>
							<div class="tab-title-name">每人</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">银币成长值</div>
							<div class="tab-title-name">万分之五</div>
							<div class="tab-title-name">每日</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">被推荐人购买元宝</div>
							<div class="tab-title-name">购买金额*35%银币</div>
							<div class="tab-title-name">每次</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">被推荐人消费元宝</div>
							<div class="tab-title-name">元宝数量*10%银币</div>
							<div class="tab-title-name">每次</div>
						</li>
					</ul>
					
					<div class="container-btn">
						<a href="javascript:;">升级为代理会员  ¥1000/年</a>
					</div>
				</div>
				
				<div class="container-tier active">
					<ul class="container-ul">
						<li class="container-li">
							<div class="tab-title-name">推荐注册</div>
							<div class="tab-title-name">1000银币</div>
							<div class="tab-title-name">每人</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">购买元宝</div>
							<div class="tab-title-name">购买金额*100%银币</div>
							<div class="tab-title-name">每次</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">升级赠送</div>
							<div class="tab-title-name">30000银币</div>
							<div class="tab-title-name">2次</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">元宝消费</div>
							<div class="tab-title-name">消费曾相应比例元宝</div>
							<div class="tab-title-name">每次</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">银币成长值</div>
							<div class="tab-title-name">万分之五</div>
							<div class="tab-title-name">每次</div>
						</li>
					</ul>
					
					<div class="container-btn">
						<a href="javascript:;">升级为VIP会员  ¥300/年</a>
					</div>
				</div>
				
				<div class="container-tier">
					<ul class="container-ul">
						<li class="container-li">
							<div class="tab-title-name">注册实名</div>
							<div class="tab-title-name">10000银币</div>
							<div class="tab-title-name">一次</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">推荐注册</div>
							<div class="tab-title-name">1000银币</div>
							<div class="tab-title-name">每人</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">购买元宝</div>
							<div class="tab-title-name">购买金额*50%银币</div>
							<div class="tab-title-name">每次</div>
						</li>
						
						<li class="container-li">
							<div class="tab-title-name">银币成长值</div>
							<div class="tab-title-name">10万分之五</div>
							<div class="tab-title-name">每天</div>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<!--content-->
		
		<!--footer-->
		<!--footer-->
		
	<script>
	var autoLb = false;            //autoLb=true为开启自动轮播
	var autoLbtime = 1;           //autoLbtime为轮播间隔时间（单位秒）
	var touch = true;            //touch=true为开启触摸滑动
	var slideBt = true;         //slideBt=true为开启滚动按钮
	var slideNub;              //轮播图片数量
	var indexNum = 0;		  //index值						
	
	//窗口大小改变时改变轮播图宽高
	$(window).resize(function(){
		$(".slide").height($(".slide").width()*0.56);
	});
	
	
	function getClassOn(){
		$(".slide-bt span").each(function(){
			if($(this).hasClass("on")){
				indexNum = $(this).index();
				$(".container-tier").eq(indexNum).addClass("active").siblings().removeClass("active");
			}
		});
	}
	
	$(function(){
		$(".slide").height($(".slide").width()*0.56);
		slideNub = $(".slide .img").size();             //获取轮播图片数量
		for(i=0;i<slideNub;i++){
			$(".slide .img:eq("+i+")").attr("data-slide-imgId",i);
		}
	
		//根据轮播图片数量设定图片位置对应的class
		if(slideNub==1){
			for(i=0;i<slideNub;i++){
				$(".slide .img:eq("+i+")").addClass("img3");
			}
		}
		if(slideNub==2){
			for(i=0;i<slideNub;i++){
				$(".slide .img:eq("+i+")").addClass("img"+(i+3));
			}
		}
		if(slideNub==3){
			for(i=0;i<slideNub;i++){
				$(".slide .img:eq("+i+")").addClass("img"+(i+2));
			}
		}
		if(slideNub>3&&slideNub<6){
			for(i=0;i<slideNub;i++){
				$(".slide .img:eq("+i+")").addClass("img"+(i+1));
			}
		}
		if(slideNub>=6){
			for(i=0;i<slideNub;i++){
				if(i<5){
				   $(".slide .img:eq("+i+")").addClass("img"+(i+1)); 
				}else{
					$(".slide .img:eq("+i+")").addClass("img5"); 
				}
			}
		}
	
		//根据轮播图片数量设定轮播图按钮数量
		if(slideBt){
			for(i=1;i<=slideNub;i++){
				$(".slide-bt").append("<span data-slide-bt='"+i+"' onclick='tz("+i+")'></span>");
			}
			$(".slide-bt").width(slideNub*34);
			$(".slide-bt").css("margin-left","-"+slideNub*17+"px");
		}
	
		//自动轮播
		if(autoLb){
			setInterval(function(){
				right();
			}, autoLbtime*1000);
		}
	
		if(touch){
			k_touch();
		}
		slideLi();
		imgClickFy();
	})
	
	//右滑动
	function right(){
		var fy = new Array();
		for(i=0;i<slideNub;i++){
			fy[i]=$(".slide .img[data-slide-imgId="+i+"]").attr("class");
		}
		for(i=0;i<slideNub;i++){
			if(i==0){
				$(".slide .img[data-slide-imgId="+i+"]").attr("class",fy[slideNub-1]);
			}else{
			   $(".slide .img[data-slide-imgId="+i+"]").attr("class",fy[i-1]); 
			}
		}
		imgClickFy();
		slideLi();
		getClassOn();
	}
	
	//左滑动
	function left(){
		var fy = new Array();
		for(i=0;i<slideNub;i++){
			fy[i]=$(".slide .img[data-slide-imgId="+i+"]").attr("class");
		}
		for(i=0;i<slideNub;i++){
			if(i==(slideNub-1)){
				$(".slide .img[data-slide-imgId="+i+"]").attr("class",fy[0]);
			}else{
			   $(".slide .img[data-slide-imgId="+i+"]").attr("class",fy[i+1]); 
			}
		}
		imgClickFy();
		slideLi();
		getClassOn();
	}
	
	//轮播图片左右图片点击翻页
	function imgClickFy(){
		$(".slide .img").removeAttr("onclick");
		$(".slide .img2").attr("onclick","left()");
		$(".slide .img4").attr("onclick","right()");
		getClassOn();
	}
	
	//修改当前最中间图片对应按钮选中状态
	function slideLi(){
		var slideList = parseInt($(".slide .img3").attr("data-slide-imgId")) + 1;
		$(".slide-bt span").removeClass("on");
		$(".slide-bt span[data-slide-bt="+slideList+"]").addClass("on");
	}
	
	//轮播按钮点击翻页
	function tz(id){
		var tzcs = id - (parseInt($(".slide .img3").attr("data-slide-imgId")) + 1);
		if(tzcs>0){
			for(i=0;i<tzcs;i++){
				setTimeout(function(){
				  right();  
				},1);
			}
		}
		if(tzcs<0){
			tzcs=(-tzcs);
			for(i=0;i<tzcs;i++){
				setTimeout(function(){
				  left();  
				},1);
			}
		}
		slideLi();
		getClassOn();
	}
	
	
	//触摸滑动模块
	function k_touch() {
		var _start = 0, _end = 0, _content = document.getElementById("slide");
		_content.addEventListener("touchstart", touchStart, false);
		_content.addEventListener("touchmove", touchMove, false);
		_content.addEventListener("touchend", touchEnd, false);
	
		function touchStart(event) {
			var touch = event.targetTouches[0];
			_start = touch.pageX;
		}
	
		function touchMove(event) {
			var touch = event.targetTouches[0];
			_end = (_start - touch.pageX);
		}
	
		function touchEnd(event) {
			if (_end < -100) {
				left();
				_end=0;
			}else if(_end > 100){
				right();
				_end=0;
			}
		}
	}
	</script>

	</body>
</html>
